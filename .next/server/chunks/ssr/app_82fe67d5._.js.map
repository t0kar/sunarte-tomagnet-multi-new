{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/toma/Programming/Projects/sunarte/sunarte-tomagnet-multilang/app/%28blog%29/actions.ts"],"sourcesContent":["\"use server\";\n\nimport { draftMode } from \"next/headers\";\n\nexport async function disableDraftMode() {\n  \"use server\";\n  await Promise.allSettled([\n    (await draftMode()).disable(),\n    // Simulate a delay to show the loading state\n    new Promise((resolve) => setTimeout(resolve, 1000)),\n  ]);\n}\n"],"names":[],"mappings":";;;;;AAEA;;;;;AAEO,eAAe,uCAAc,GAAd;IAEpB,MAAM,QAAQ,UAAU,CAAC;QACvB,CAAC,MAAM,CAAA,GAAA,+HAAA,CAAA,YAAS,AAAD,GAAG,EAAE,OAAO;QAC3B,6CAA6C;QAC7C,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;KAC9C;AACH;;;IAPsB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file:///Users/toma/Programming/Projects/sunarte/sunarte-tomagnet-multilang/app/%28blog%29/avatar.tsx"],"sourcesContent":["import { Image } from \"next-sanity/image\";\n\nimport type { Author } from \"@/sanity.types\";\nimport { urlForImage } from \"@/sanity/lib/utils\";\n\ninterface Props {\n  name: string;\n  picture: Exclude<Author[\"picture\"], undefined> | null;\n}\n\nexport default function Avatar({ name, picture }: Props) {\n  return (\n    <div className=\"flex items-center text-xl\">\n      {picture?.asset?._ref ? (\n        <div className=\"mr-4 h-12 w-12\">\n          <Image\n            alt={picture?.alt || \"\"}\n            className=\"h-full rounded-full object-cover\"\n            height={48}\n            width={48}\n            src={\n              urlForImage(picture)\n                ?.height(96)\n                .width(96)\n                .fit(\"crop\")\n                .url() as string\n            }\n          />\n        </div>\n      ) : (\n        <div className=\"mr-1\">By </div>\n      )}\n      <div className=\"text-pretty text-xl font-bold\">{name}</div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AAGA;;;;AAOe,SAAS,OAAO,EAAE,IAAI,EAAE,OAAO,EAAS;IACrD,qBACE,8OAAC;QAAI,WAAU;;YACZ,SAAS,OAAO,qBACf,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,+IAAA,CAAA,QAAK;oBACJ,KAAK,SAAS,OAAO;oBACrB,WAAU;oBACV,QAAQ;oBACR,OAAO;oBACP,KACE,CAAA,GAAA,sHAAA,CAAA,cAAW,AAAD,EAAE,UACR,OAAO,IACR,MAAM,IACN,IAAI,QACJ;;;;;;;;;;qCAKT,8OAAC;gBAAI,WAAU;0BAAO;;;;;;0BAExB,8OAAC;gBAAI,WAAU;0BAAiC;;;;;;;;;;;;AAGtD","debugId":null}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///Users/toma/Programming/Projects/sunarte/sunarte-tomagnet-multilang/app/%28blog%29/cover-image.tsx"],"sourcesContent":["import { Image } from \"next-sanity/image\";\n\nimport { urlForImage } from \"@/sanity/lib/utils\";\n\ninterface CoverImageProps {\n  image: any;\n  priority?: boolean;\n}\n\nexport default function CoverImage(props: CoverImageProps) {\n  const { image: source, priority } = props;\n  const image = source?.asset?._ref ? (\n    <Image\n      className=\"h-auto w-full\"\n      width={2000}\n      height={1000}\n      alt={source?.alt || \"\"}\n      src={urlForImage(source)?.height(1000).width(2000).url() as string}\n      sizes=\"100vw\"\n      priority={priority}\n    />\n  ) : (\n    <div className=\"bg-slate-50\" style={{ paddingTop: \"50%\" }} />\n  );\n\n  return (\n    <div className=\"shadow-md transition-shadow duration-200 group-hover:shadow-lg sm:mx-0\">\n      {image}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAOe,SAAS,WAAW,KAAsB;IACvD,MAAM,EAAE,OAAO,MAAM,EAAE,QAAQ,EAAE,GAAG;IACpC,MAAM,QAAQ,QAAQ,OAAO,qBAC3B,8OAAC,+IAAA,CAAA,QAAK;QACJ,WAAU;QACV,OAAO;QACP,QAAQ;QACR,KAAK,QAAQ,OAAO;QACpB,KAAK,CAAA,GAAA,sHAAA,CAAA,cAAW,AAAD,EAAE,SAAS,OAAO,MAAM,MAAM,MAAM;QACnD,OAAM;QACN,UAAU;;;;;6BAGZ,8OAAC;QAAI,WAAU;QAAc,OAAO;YAAE,YAAY;QAAM;;;;;;IAG1D,qBACE,8OAAC;QAAI,WAAU;kBACZ;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 154, "column": 0}, "map": {"version":3,"sources":["file:///Users/toma/Programming/Projects/sunarte/sunarte-tomagnet-multilang/app/%28blog%29/date.tsx"],"sourcesContent":["import { format } from \"date-fns\";\n\nexport default function DateComponent({ dateString }: { dateString: string }) {\n  return (\n    <time dateTime={dateString}>\n      {format(new Date(dateString), \"LLLL\td, yyyy\")}\n    </time>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;;;AAEe,SAAS,cAAc,EAAE,UAAU,EAA0B;IAC1E,qBACE,8OAAC;QAAK,UAAU;kBACb,CAAA,GAAA,qJAAA,CAAA,SAAM,AAAD,EAAE,IAAI,KAAK,aAAa;;;;;;AAGpC","debugId":null}},
    {"offset": {"line": 177, "column": 0}, "map": {"version":3,"sources":["file:///Users/toma/Programming/Projects/sunarte/sunarte-tomagnet-multilang/app/%28blog%29/more-stories.tsx"],"sourcesContent":["import Link from 'next/link';\n\nimport Avatar from './avatar';\nimport CoverImage from './cover-image';\nimport DateComponent from './date';\n\nimport { sanityFetch } from '@/sanity/lib/fetch';\nimport { moreStoriesQuery } from '@/sanity/lib/queries';\n\nexport default async function MoreStories(params: {\n  skip: string;\n  limit: number;\n  language?: string;\n}) {\n  const data = await sanityFetch({\n    query: moreStoriesQuery,\n    params: { skip: params.skip, limit: params.limit, lang: params.language },\n  });\n\n  return (\n    <div className='mb-32 grid grid-cols-1 gap-y-20 md:grid-cols-2 md:gap-x-16 md:gap-y-32 lg:gap-x-32'>\n      {data?.map((post: any) => {\n        const { _id, title, slug, coverImage, excerpt, author, language } =\n          post;\n        return (\n          <article key={_id}>\n            <Link\n              href={`/${language}/posts/${slug}`}\n              className='group mb-5 block'\n            >\n              <CoverImage image={coverImage} priority={false} />\n            </Link>\n            <h3 className='text-balance mb-3 text-3xl leading-snug'>\n              <Link\n                href={`/${language}/posts/${slug}`}\n                className='hover:underline'\n              >\n                {title}\n              </Link>\n            </h3>\n            <div className='mb-4 text-lg'>\n              <DateComponent dateString={post.date} />\n            </div>\n            {excerpt && (\n              <p className='text-pretty mb-4 text-lg leading-relaxed'>\n                {excerpt}\n              </p>\n            )}\n            {author && <Avatar name={author.name} picture={author.picture} />}\n          </article>\n        );\n      })}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AAEA;AACA;AACA;AAEA;AACA;;;;;;;;AAEe,eAAe,YAAY,MAIzC;IACC,MAAM,OAAO,MAAM,CAAA,GAAA,sHAAA,CAAA,cAAW,AAAD,EAAE;QAC7B,OAAO,wHAAA,CAAA,mBAAgB;QACvB,QAAQ;YAAE,MAAM,OAAO,IAAI;YAAE,OAAO,OAAO,KAAK;YAAE,MAAM,OAAO,QAAQ;QAAC;IAC1E;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACZ,MAAM,IAAI,CAAC;YACV,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,GAC/D;YACF,qBACE,8OAAC;;kCACC,8OAAC,4JAAA,CAAA,UAAI;wBACH,MAAM,CAAC,CAAC,EAAE,SAAS,OAAO,EAAE,MAAM;wBAClC,WAAU;kCAEV,cAAA,8OAAC,kIAAA,CAAA,UAAU;4BAAC,OAAO;4BAAY,UAAU;;;;;;;;;;;kCAE3C,8OAAC;wBAAG,WAAU;kCACZ,cAAA,8OAAC,4JAAA,CAAA,UAAI;4BACH,MAAM,CAAC,CAAC,EAAE,SAAS,OAAO,EAAE,MAAM;4BAClC,WAAU;sCAET;;;;;;;;;;;kCAGL,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,wHAAA,CAAA,UAAa;4BAAC,YAAY,KAAK,IAAI;;;;;;;;;;;oBAErC,yBACC,8OAAC;wBAAE,WAAU;kCACV;;;;;;oBAGJ,wBAAU,8OAAC,0HAAA,CAAA,UAAM;wBAAC,MAAM,OAAO,IAAI;wBAAE,SAAS,OAAO,OAAO;;;;;;;eAvBjD;;;;;QA0BlB;;;;;;AAGN","debugId":null}},
    {"offset": {"line": 290, "column": 0}, "map": {"version":3,"sources":["file:///Users/toma/Programming/Projects/sunarte/sunarte-tomagnet-multilang/app/%28blog%29/%5Blang%5D/posts/%5Bslug%5D/page.tsx"],"sourcesContent":["import { defineQuery } from 'next-sanity';\nimport type { Metadata, ResolvingMetadata } from 'next';\nimport { type PortableTextBlock } from 'next-sanity';\nimport Link from 'next/link';\nimport { notFound } from 'next/navigation';\nimport { Suspense } from 'react';\n\nimport * as demo from '@/sanity/lib/demo';\nimport { sanityFetch } from '@/sanity/lib/fetch';\nimport { postQuery, settingsQuery } from '@/sanity/lib/queries';\nimport { resolveOpenGraphImage } from '@/sanity/lib/utils';\nimport Avatar from '@/app/(blog)/avatar';\nimport CoverImage from '@/app/(blog)/cover-image';\nimport DateComponent from '@/app/(blog)/date';\nimport MoreStories from '@/app/(blog)/more-stories';\nimport CustomPortableText from '@/app/(blog)/portable-text';\n\n// ✅ updated to include language param\ntype Props = { params: { slug: string; lang: string } };\n\n// ✅ updated query to fetch slug + language\nconst postSlugs = defineQuery(\n  `*[_type == \"post\" && defined(slug.current) && defined(language)]{\n    \"slug\": slug.current,\n    \"lang\": language\n  }`\n);\n\nexport async function generateStaticParams() {\n  const posts = await sanityFetch({\n    query: postSlugs,\n    perspective: 'published',\n    stega: false,\n  });\n\n  console.log('STATIC PARAMS:', posts); // ✅ check what’s coming\n\n  return posts.map((post: any) => ({ slug: post.slug, lang: post.lang }));\n}\n\nexport async function generateMetadata(\n  { params }: Props,\n  parent: ResolvingMetadata\n): Promise<Metadata> {\n  const post = await sanityFetch({\n    query: postQuery,\n    params: { slug: params.slug, lang: params.lang },\n    stega: false,\n  });\n\n  const previousImages = (await parent).openGraph?.images || [];\n  const ogImage = resolveOpenGraphImage(post?.coverImage);\n\n  return {\n    authors: post?.author?.name ? [{ name: post?.author?.name }] : [],\n    title: post?.title,\n    description: post?.excerpt,\n    openGraph: {\n      images: ogImage ? [ogImage, ...previousImages] : previousImages,\n    },\n  } satisfies Metadata;\n}\n\nexport default async function PostPage({ params }: Props) {\n  const [post, settings] = await Promise.all([\n    sanityFetch({\n      query: postQuery,\n      params: { slug: params.slug, lang: params.lang },\n    }),\n    sanityFetch({ query: settingsQuery }),\n  ]);\n\n  console.log('page', params);\n\n  if (!post?._id) {\n    return notFound();\n  }\n\n  return (\n    <div className='container mx-auto px-5'>\n      <h2 className='mb-16 mt-10 text-2xl font-bold leading-tight tracking-tight md:text-4xl md:tracking-tighter'>\n        <Link href='/' className='hover:underline'>\n          {settings?.title || demo.title}\n        </Link>\n      </h2>\n      <article>\n        <h1 className='text-balance mb-12 text-6xl font-bold leading-tight tracking-tighter md:text-7xl md:leading-none lg:text-8xl'>\n          {post.title}\n        </h1>\n        <div className='hidden md:mb-12 md:block'>\n          {post.author && (\n            <Avatar name={post.author.name} picture={post.author.picture} />\n          )}\n        </div>\n        <div className='mb-8 sm:mx-0 md:mb-16'>\n          <CoverImage image={post.coverImage} priority />\n        </div>\n        <div className='mx-auto max-w-2xl'>\n          <div className='mb-6 block md:hidden'>\n            {post.author && (\n              <Avatar name={post.author.name} picture={post.author.picture} />\n            )}\n          </div>\n          <div className='mb-6 text-lg'>\n            <div className='mb-4 text-lg'>\n              <DateComponent dateString={post.date} />\n            </div>\n          </div>\n        </div>\n        {post.content?.length && (\n          <CustomPortableText\n            className='mx-auto max-w-2xl'\n            value={post.content as PortableTextBlock[]}\n          />\n        )}\n      </article>\n      <aside>\n        <hr className='border-accent-2 mb-24 mt-28' />\n        <h2 className='mb-8 text-6xl font-bold leading-tight tracking-tighter md:text-7xl'>\n          Recent Stories\n        </h2>\n        <Suspense>\n          <MoreStories skip={post._id} limit={2} />\n        </Suspense>\n      </aside>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}